# Lint é…ç½®è¯´æ˜

æœ¬é¡¹ç›®å·²é…ç½®äº†å®Œæ•´çš„ä»£ç æ£€æŸ¥å’Œæ ¼å¼åŒ–å·¥å…·é“¾ï¼ŒåŒ…æ‹¬ commitlint + husky + eslint + stylelint + lint-stagedã€‚

## ğŸ“¦ å·²å®‰è£…çš„å·¥å…·

### æäº¤è§„èŒƒ

- `@commitlint/cli` - commitlint å‘½ä»¤è¡Œå·¥å…·
- `@commitlint/config-conventional` - å¸¸è§„æäº¤è§„èŒƒé…ç½®
- `husky` - Git hooks ç®¡ç†å·¥å…·

### ä»£ç æ£€æŸ¥

- `eslint` - JavaScript/TypeScript ä»£ç æ£€æŸ¥
- `eslint-config-airbnb-base` - Airbnb ä»£ç è§„èŒƒï¼ˆå·²å®šåˆ¶åŒ–è°ƒæ•´ï¼‰
- `stylelint` - CSS/SCSS/Vue æ ·å¼æ£€æŸ¥
- `stylelint-config-standard` - æ ‡å‡†æ ·å¼è§„èŒƒ
- `stylelint-config-recommended-vue` - Vue æ ·å¼æ¨èè§„èŒƒ

### è‡ªåŠ¨åŒ–å·¥å…·

- `lint-staged` - åªå¯¹ staged æ–‡ä»¶è¿›è¡Œæ£€æŸ¥çš„å·¥å…·
- `prettier` - ä»£ç æ ¼å¼åŒ–å·¥å…·

## ğŸ“„ é…ç½®æ–‡ä»¶

### commitlint.config.js

å®šä¹‰äº†æäº¤æ¶ˆæ¯çš„è§„èŒƒï¼Œæ”¯æŒä»¥ä¸‹ç±»å‹ï¼š

- `feat`: æ–°å¢åŠŸèƒ½
- `fix`: ä¿®å¤ç¼ºé™·
- `docs`: æ–‡æ¡£å˜æ›´
- `style`: ä»£ç æ ¼å¼ä¿®æ”¹
- `refactor`: ä»£ç é‡æ„
- `perf`: æ€§èƒ½ä¼˜åŒ–
- `test`: æµ‹è¯•ç›¸å…³
- `build`: æ„å»ºç›¸å…³
- `ci`: CI é…ç½®
- `chore`: æ‚é¡¹
- `revert`: å›æ»š
- `wip`: å¼€å‘ä¸­
- `workflow`: å·¥ä½œæµç¨‹æ”¹è¿›
- `types`: ç±»å‹å£°æ˜ä¿®æ”¹

### .eslintrc.cjs

ESLint é…ç½®ï¼ŒåŸºäº Airbnb è§„èŒƒå¹¶è¿›è¡Œäº†é¡¹ç›®å®šåˆ¶åŒ–è°ƒæ•´ï¼š

- æ”¯æŒ TypeScript å’Œ Vue 3
- æ”¾å®½äº†éƒ¨åˆ†ä¸¥æ ¼è§„åˆ™ä»¥é€‚åº”é¡¹ç›®éœ€æ±‚
- å…³é—­äº†ä¸ Prettier å†²çªçš„è§„åˆ™

### stylelint.config.js

æ ·å¼æ£€æŸ¥é…ç½®ï¼š

- æ”¯æŒ Vue å•æ–‡ä»¶ç»„ä»¶
- å…¼å®¹ Tailwind CSS
- æ’é™¤ç¬¬ä¸‰æ–¹åº“æ–‡ä»¶
- æ”¯æŒ Vue çš„æ·±åº¦é€‰æ‹©å™¨è¯­æ³•

### lint-staged.config.js

å®šä¹‰äº†å¯¹ä¸åŒæ–‡ä»¶ç±»å‹çš„å¤„ç†ï¼š

- JS/TS æ–‡ä»¶ï¼šESLint æ£€æŸ¥ + Prettier æ ¼å¼åŒ–
- Vue æ–‡ä»¶ï¼šESLint + Stylelint æ£€æŸ¥ + Prettier æ ¼å¼åŒ–
- CSS æ–‡ä»¶ï¼šStylelint æ£€æŸ¥ + Prettier æ ¼å¼åŒ–
- JSON/MD æ–‡ä»¶ï¼šPrettier æ ¼å¼åŒ–

### .husky/pre-commit

æäº¤å‰è‡ªåŠ¨è¿è¡Œ `lint-staged`

### .husky/commit-msg

æäº¤æ—¶æ£€æŸ¥æäº¤æ¶ˆæ¯æ ¼å¼

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### è‡ªåŠ¨æ‰§è¡Œï¼ˆæ¨èï¼‰

Git æäº¤æ—¶ä¼šè‡ªåŠ¨æ‰§è¡Œï¼š

1. `pre-commit` hook è¿è¡Œ `lint-staged` æ£€æŸ¥å’Œä¿®å¤ staged æ–‡ä»¶
2. `commit-msg` hook æ£€æŸ¥æäº¤æ¶ˆæ¯æ ¼å¼

### æ‰‹åŠ¨æ‰§è¡Œ

```bash
# æ£€æŸ¥æ‰€æœ‰ TypeScript/JavaScript æ–‡ä»¶
npm run lint

# æ£€æŸ¥æ‰€æœ‰æ ·å¼æ–‡ä»¶
npm run stylelint

# åªæ£€æŸ¥ staged æ–‡ä»¶
npm run lint-staged

# æ ¼å¼åŒ–æ‰€æœ‰æ–‡ä»¶
npm run format

# æ£€æŸ¥æäº¤æ¶ˆæ¯æ ¼å¼
npm run commitlint
```

### æäº¤æ¶ˆæ¯ç¤ºä¾‹

```bash
# âœ… æ­£ç¡®æ ¼å¼
git commit -m "feat: æ·»åŠ ç”¨æˆ·ç™»å½•åŠŸèƒ½"
git commit -m "fix: ä¿®å¤ç™»å½•é¡µé¢æ ·å¼é—®é¢˜"
git commit -m "docs: æ›´æ–° README æ–‡æ¡£"

# âŒ é”™è¯¯æ ¼å¼
git commit -m "add login feature"
git commit -m "fix bug"
git commit -m "update"
```

## ğŸ“‹ å·¥ä½œæµç¨‹

1. **å¼€å‘é˜¶æ®µ**ï¼šæ­£å¸¸ç¼–å†™ä»£ç 
2. **æäº¤å‰**ï¼š
   - `git add` æš‚å­˜è¦æäº¤çš„æ–‡ä»¶
   - `git commit -m "feat: æè¿°"`
   - è‡ªåŠ¨è¿è¡Œ `pre-commit` hookï¼š
     - å¯¹ staged æ–‡ä»¶æ‰§è¡Œ ESLint æ£€æŸ¥å’Œä¿®å¤
     - å¯¹ staged æ–‡ä»¶æ‰§è¡Œ Stylelint æ£€æŸ¥å’Œä¿®å¤
     - å¯¹ staged æ–‡ä»¶æ‰§è¡Œ Prettier æ ¼å¼åŒ–
   - è‡ªåŠ¨è¿è¡Œ `commit-msg` hookï¼š
     - æ£€æŸ¥æäº¤æ¶ˆæ¯æ ¼å¼
3. **å¦‚æœæ£€æŸ¥é€šè¿‡**ï¼šæäº¤æˆåŠŸ
4. **å¦‚æœæ£€æŸ¥å¤±è´¥**ï¼šä¿®å¤é—®é¢˜åé‡æ–°æäº¤

## ğŸ”§ è‡ªå®šä¹‰é…ç½®

å¦‚éœ€è°ƒæ•´è§„åˆ™ï¼Œå¯ä»¥ä¿®æ”¹å¯¹åº”çš„é…ç½®æ–‡ä»¶ï¼š

- ESLint è§„åˆ™ï¼šä¿®æ”¹ `.eslintrc.cjs`
- Stylelint è§„åˆ™ï¼šä¿®æ”¹ `stylelint.config.js`
- æäº¤è§„èŒƒï¼šä¿®æ”¹ `commitlint.config.js`
- Lint-staged è¡Œä¸ºï¼šä¿®æ”¹ `lint-staged.config.js`

## ğŸš« ç»•è¿‡æ£€æŸ¥ï¼ˆä¸æ¨èï¼‰

åœ¨ç´§æ€¥æƒ…å†µä¸‹å¯ä»¥ç»•è¿‡æ£€æŸ¥ï¼š

```bash
# ç»•è¿‡æ‰€æœ‰ hooks
git commit --no-verify -m "emergency fix"
```

**æ³¨æ„ï¼šç»•è¿‡æ£€æŸ¥å¯èƒ½å¯¼è‡´ä»£ç è´¨é‡é—®é¢˜ï¼Œè¯·è°¨æ…ä½¿ç”¨ã€‚**

## ğŸ” å¸¸è§é—®é¢˜æ’æŸ¥

### 1. æäº¤è¢«æ‹’ç»

å¦‚æœæäº¤è¢«æ‹’ç»ï¼Œè¯·æ£€æŸ¥ï¼š

- æäº¤æ¶ˆæ¯æ˜¯å¦ç¬¦åˆè§„èŒƒ
- ä»£ç æ˜¯å¦é€šè¿‡ lint æ£€æŸ¥
- æ˜¯å¦æœ‰è¯­æ³•é”™è¯¯

### 2. v-if æŒ‡ä»¤æ ¼å¼åŒ–é—®é¢˜

å¦‚æœ Vue æ–‡ä»¶ä¸­çš„ `v-if` æŒ‡ä»¤è¢«é”™è¯¯åœ°æ¢è¡Œåˆ°æœ€å·¦è¾¹ï¼š

- ç¡®ä¿ä½¿ç”¨äº†é¡¹ç›®æ ¹ç›®å½•çš„ `.vscode/settings.json` é…ç½®
- æ£€æŸ¥æ˜¯å¦å®‰è£…äº†æ¨èçš„ VSCode æ‰©å±•
- ç¡®ä¿ `editor.defaultFormatter` è®¾ç½®ä¸º `esbenp.prettier-vscode`
- é‡å¯ VSCode å¹¶é‡æ–°åŠ è½½é¡¹ç›®

### 3. VSCode é…ç½®

ä¸ºç¡®ä¿æ ¼å¼åŒ–æ­£å¸¸å·¥ä½œï¼Œè¯·ï¼š

- å®‰è£…æ¨èçš„æ‰©å±•ï¼ˆä¼šè‡ªåŠ¨æç¤ºï¼‰
- ç¡®ä¿ `settings.json` ä¸­çš„æ ¼å¼åŒ–å™¨è®¾ç½®æ­£ç¡®
- ç¦ç”¨å¯èƒ½å†²çªçš„æ ¼å¼åŒ–æ‰©å±•ï¼ˆå¦‚ Veturï¼‰

### 4. æ ¼å¼åŒ–ä¸ç”Ÿæ•ˆ

å¦‚æœè‡ªåŠ¨æ ¼å¼åŒ–ä¸ç”Ÿæ•ˆï¼Œè¯·ï¼š

- ç¡®ä¿å·²å®‰è£… Prettier æ‰©å±•
- æ£€æŸ¥ VSCode è®¾ç½®æ˜¯å¦æ­£ç¡®
- é‡å¯ VSCode

### 5. Stylelint æŠ¥é”™

å¦‚æœ CSS æ ·å¼æ£€æŸ¥æŠ¥é”™ï¼Œè¯·ï¼š

- æ£€æŸ¥ CSS è¯­æ³•æ˜¯å¦æ­£ç¡®
- ç¡®è®¤æ˜¯å¦ä½¿ç”¨äº†ä¸æ”¯æŒçš„è¯­æ³•
- æŸ¥çœ‹æ˜¯å¦ä¸ Tailwind å†²çª

## ğŸ› ï¸ VSCode é…ç½®è¯´æ˜

é¡¹ç›®å·²é…ç½®äº† `.vscode/settings.json` å’Œ `.vscode/extensions.json`ï¼š

- `settings.json`: ç¡®ä¿ VSCode ä½¿ç”¨æ­£ç¡®çš„æ ¼å¼åŒ–å™¨å’Œè®¾ç½®
- `extensions.json`: æ¨èå®‰è£…çš„æ‰©å±•åˆ—è¡¨
- é‡è¦ï¼šè¯·ç¡®ä¿å®‰è£…äº†æ¨èçš„æ‰©å±•ï¼Œç‰¹åˆ«æ˜¯ `esbenp.prettier-vscode`

## ğŸ“‹ æ ¼å¼åŒ–é…ç½®

### Prettier é…ç½® (.prettierrc.js)

- Vue æ–‡ä»¶ä½¿ç”¨ 150 å­—ç¬¦å®½åº¦ï¼Œé˜²æ­¢ `v-if` ç­‰æŒ‡ä»¤è¢«å¼ºåˆ¶æ¢è¡Œ
- æ”¯æŒ Tailwind CSS ç±»å
- ä¿æŒä¸€è‡´çš„ä»£ç é£æ ¼

### ESLint é…ç½® (.eslintrc.cjs)

- åŸºäº Airbnb è§„èŒƒï¼Œé€‚åº”é¡¹ç›®éœ€æ±‚
- æ”¯æŒ TypeScript å’Œ Vue 3
- ä¸ Prettier ååŒå·¥ä½œ

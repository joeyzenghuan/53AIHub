import{r as V,aG as k,a8 as Z,a9 as ee,aa as oe,bo as te,d as J,b as le,c as se,e as ne,g as F,i as a,j as c,m as t,t as u,B as H,n as r,b3 as D,C as G,F as m,A as w,s as B,w as f,k as h,bp as ae,l as re,p as X,z as K,q as C,y as E,T as O,be as ie,D as ce,E as de,bf as ue,_ as pe}from"./main-A2Vq01lO.js";import{E as _e}from"./global-7Zqkv-Uz.js";import{a as me,E as fe,_ as he}from"./main-header.vue_vue_type_script_setup_true_lang-TJYSPhBk.js";import"./enterprise-E8x0ss4L.js";import"./el-scrollbar-yaCXca-3.js";function ve(){const l=V(null);return{scrollRef:l,scrollToBottom:async()=>{await k(),l.value&&(l.value.scrollTop=l.value.scrollHeight)},scrollToTop:async()=>{await k(),l.value&&(l.value.scrollTop=0)},scrollTo:async(x,d=0)=>{await k();const y=document.querySelector(x);l.value&&y&&(l.value.scrollTop=y.offsetTop+d),await k()},scrollToVal:async x=>{await k(),l.value&&(l.value.scrollTop=x)},scrollToBottomIfAtBottom:async()=>{await k(),l.value&&l.value.scrollHeight-l.value.scrollTop-l.value.clientHeight<=100&&(l.value.scrollTop=l.value.scrollHeight)}}}const xe={list(l){return Z.get("/api/ai_links/current",{params:l}).catch(ee)}},ge={group_name:window.$t("common.all"),group_id:0},be=2,we=oe("links",{state:()=>({categorys:[],appMap:{}}),getters:{},actions:{loadCategorys(){return te.list(be).then(l=>{this.categorys=l.data.map(s=>(s.visible=!0,s)),this.categorys.unshift(ge)})},loadLinks(){xe.list().then(l=>{const s={};l.data.forEach(p=>{const v=p.group_id;s[v]||(s[v]=[]),p.visible=!0,s[v].push(p)}),this.appMap=s})}}}),ye={class:"w-4/6 mx-auto py-8 text-center"},ke={class:"text-[40px] font-bold text-black"},Te={class:"flex items-center justify-between mt-4"},$e={class:"flex-1 flex items-center gap-3"},Ce=["onClick"],Ee=["src"],Ve={class:"flex items-center gap-2 overflow-hidden transition-all duration-300 flex-grow"},Be={class:"text-sm truncate"},Fe={class:"flex-center gap-5"},Ie={class:"text-[#182B50] text-opacity-40 text-sm"},Me={class:"mt-7 flex flex-wrap gap-3 justify-center"},Se={class:"flex items-center justify-between w-5/6 mx-auto"},Ae={class:"w-5/6 mx-auto mt-4"},ze=["id"],Ne=["onClick"],Ue={class:"flex-1"},qe={class:"text-base text-primary font-semibold line-clamp-1"},Le={class:"text-sm text-secondary line-clamp-2"},je={key:1,class:"flex-1 flex flex-col overflow-hidden"},Re={class:"flex-none pt-10 pb-5 flex items-center justify-between w-5/6 mx-auto"},He={class:"w-5/6 mx-auto mt-4"},De=["id"],Ge=["onClick"],Ke={class:"flex-1"},Oe={class:"text-base text-primary font-semibold line-clamp-1"},Pe={class:"text-sm text-secondary line-clamp-2"},P=2,Je=J({__name:"toolbox",setup(l){const s=we(),{scrollRef:p,scrollTo:v,scrollToTop:T}=ve(),_=le({group_id:0,keyword:""}),x=V(!1),d=V(""),y=V([{name:"ç™¾åº¦AI+",value:"baiduai+",checked:!0,url:"https://chat.baidu.com/search?word=_word_"},{name:"çº³ç±³æœç´¢",value:"n",checked:!0,url:"https://www.n.cn/?q=_word_"},{name:"ç§˜å¡”",value:"metaso",checked:!1,url:"https://metaso.cn/?q=_word_"},{name:"Perplexity",value:"perplexity",checked:!1,url:"https://perplexity.ai/search?q=_word_"}]),Y=["ðŸ‘¨â€ðŸ’¼ ä¸Šç­æ—é¢„é˜²ç—…è‡ªæ•‘æ•™ç¨‹","ðŸ½ï¸ æ—¥æŠ¥/å‘¨æŠ¥è®©ä½ å¤´ç–¼ï¼Ÿç‚¹å‡»é¢†å–æ¨¡æ¿","ðŸ¤” é‡åˆ°åœ°éœ‡æ˜¯è¯¥è·‘è¿˜æ˜¯è¯¥èº²ï¼Ÿ","ðŸ’° æœ‰å“ªäº›å¯ä»¥ä¸é å¹´ç»ˆå¥–å°±èƒ½èµšé’±çš„é—¨è·¯ï¼Ÿ","âš¡ é’ˆå¯¹æ—¶é—´ç®¡ç†çš„10å¤§å®žç”¨æŠ€å·§","ðŸŽ¨ è‡ªå·±åšè‡ªåª’ä½“åº”è¯¥å¦‚ä½•å¿«é€Ÿèµ·æ­¥ï¼Ÿ"],Q=se(()=>d.value.trim().length>0&&y.value.some(n=>n.checked)),W=n=>{const o=y.value.filter(g=>g.checked);if(!n.checked&&o.length>=P){ie.warning(window.$t("toolbox.max_agent_count",{count:P}));return}n.checked=!n.checked},I=async()=>{const n=y.value.filter(o=>o.checked);window.$isElectron?window.$chat53ai.$win({type:"new-tab",data:JSON.stringify({title:window.$t("toolbox.name")+"-"+d.value,urls:n.map(o=>o.url.replace("_word_",encodeURIComponent(d.value)))})}):n.forEach(o=>{window.open(o.url.replace("_word_",encodeURIComponent(d.value)))}),d.value=""},M=n=>{const o=n.props.name;o===0?T():v(`#toolbox_cate_${o}`)},S=()=>{const n=_.keyword.trim().toLowerCase();Object.keys(s.appMap).forEach(o=>{const g=s.appMap[o];g.forEach(b=>{b.visible=n===""||b.name.toLowerCase().includes(n)});const $=s.categorys.find(b=>b.group_id===Number(o));$&&($.visible=g.some(b=>b.visible))})},A=n=>{window.open(n.url,"_blank")};return ne(()=>{s.loadCategorys(),s.loadLinks()}),(n,o)=>{var L,j;const g=ce,$=de,b=F("svg-icon"),z=ue,N=me,U=fe,q=_e;return n.$isElectron?(a(),c("div",{key:0,class:"flex-1 flex flex-col relative overflow-y-auto",ref_key:"scrollRef",ref:p},[t("div",ye,[t("h2",ke,u(n.$t("toolbox.title")),1),t("div",{class:H(["bg-white rounded-lg p-4 mt-9 border",[x.value?"border-[#0672FF]":""]])},[r(g,{type:"textarea",modelValue:d.value,"onUpdate:modelValue":o[0]||(o[0]=e=>d.value=e),placeholder:n.$t("toolbox.input_placeholder"),rows:5,resize:"none",style:{"--el-input-text-color":"#182b50","--el-input-bg-color":"transparent","--el-border-color":"none","--el-input-focus-border":"none","--el-input-hover-border":"none","--el-input-hover-border-color":"none","--el-input-focus-border-color":"none"},onFocus:o[1]||(o[1]=e=>x.value=!0),onBlur:o[2]||(o[2]=e=>x.value=!1),onKeyup:[D(G(I,["exact"]),["enter"]),D(G(()=>{},["shift","exact"]),["enter"])]},null,8,["modelValue","placeholder","onKeyup"]),t("div",Te,[t("div",$e,[(a(!0),c(m,null,w(y.value,e=>(a(),c("div",{key:e.value,class:H(["h-9 px-2.5 flex-center gap-2 rounded-full border cursor-pointer min-w-[28px]",[e.checked?"bg-[#EBF3FC] text-black border-[#0672FF]":"text-[#AAA] bg-[#EBF4F7] border-[#EBF4F7]"]]),onClick:i=>W(e)},[t("img",{class:"size-[22px] rounded-full",src:`https://chat.53ai.com/images/toolbox/${e.value}.png`},null,8,Ee),t("div",Ve,[t("span",Be,u(e.name),1),e.checked?(a(),B($,{key:0,color:"#0672FF"},{default:f(()=>[r(h(ae))]),_:1})):re("",!0)])],10,Ce))),128))]),t("div",Fe,[t("div",Ie,u(d.value.length)+"/300",1),r(z,{class:"w-8 h-8",type:"primary",disabled:!Q.value,onClick:I},{default:f(()=>[r(b,{name:"send",size:"14"})]),_:1},8,["disabled"])])])],2),t("div",Me,[(a(),c(m,null,w(Y,(e,i)=>r(z,{key:i,class:"!border-[#D3EAF2] !text-gray-600 !ml-0",onClick:R=>d.value=e},{default:f(()=>[X(u(e),1)]),_:2},1032,["onClick"])),64))])]),o[7]||(o[7]=t("div",{class:"mt-10 mb-20"},null,-1)),t("div",Se,[r(U,{modelValue:_.group_id,"onUpdate:modelValue":o[3]||(o[3]=e=>_.group_id=e),class:"tabs flex-1 overflow-hidden",style:{"--el-tabs-header-height":"36px"},onTabClick:M},{default:f(()=>[(a(!0),c(m,null,w(h(s).categorys,e=>(a(),B(N,{key:e.group_name,label:e.group_name,name:e.group_id},null,8,["label","name"]))),128))]),_:1},8,["modelValue"]),t("div",null,[r(g,{modelValue:_.keyword,"onUpdate:modelValue":o[4]||(o[4]=e=>_.keyword=e),"prefix-icon":h(K),style:{"--el-input-border-radius":"2rem","--el-input-inner-height":"34px"},placeholder:n.$t("action.search"),onInput:S},null,8,["modelValue","prefix-icon","placeholder"])])]),t("div",Ae,[(a(!0),c(m,null,w((L=h(s).categorys)==null?void 0:L.filter(e=>e.group_id!=0),e=>(a(),c(m,{key:e.group_id},[C(t("div",{id:`toolbox_cate_${e.group_id}`,class:"text-secondary text-sm py-4"},u(e.group_name),9,ze),[[E,e.visible]]),r(O,{name:"list",tag:"div",class:"grid grid-cols-4 gap-5 mb-4 max-lg:grid-cols-3 max-md:grid-cols-2 max-sm:grid-cols-1"},{default:f(()=>[(a(!0),c(m,null,w(h(s).appMap[e.group_id],i=>C((a(),c("div",{key:i.key,onClick:R=>A(i),class:"h-[130px] bg-white rounded-[10px] px-5 flex items-center gap-2 cursor-pointer hover:shadow"},[r(q,{class:"size-[70px] border rounded-full",fit:"contain",lazy:"",src:i.logo},null,8,["src"]),t("div",Ue,[t("div",qe,u(i.name),1),t("div",Le,u(i.description),1)])],8,Ne)),[[E,i.visible]])),128))]),_:2},1024)],64))),128))])],512)):(a(),c("div",je,[t("div",Re,[r(U,{modelValue:_.group_id,"onUpdate:modelValue":o[5]||(o[5]=e=>_.group_id=e),class:"tabs flex-1 overflow-hidden",style:{"--el-tabs-header-height":"36px"},onTabClick:M},{default:f(()=>[(a(!0),c(m,null,w(h(s).categorys,e=>(a(),B(N,{key:e.group_name,label:e.group_name,name:e.group_id},null,8,["label","name"]))),128))]),_:1},8,["modelValue"]),t("div",null,[r(g,{modelValue:_.keyword,"onUpdate:modelValue":o[6]||(o[6]=e=>_.keyword=e),"prefix-icon":h(K),style:{"--el-input-border-radius":"2rem","--el-input-inner-height":"34px"},placeholder:n.$t("action.search"),onInput:S},null,8,["modelValue","prefix-icon","placeholder"])])]),t("div",{class:"flex-1 overflow-y-auto relative",ref_key:"scrollRef",ref:p},[t("div",He,[(a(!0),c(m,null,w((j=h(s).categorys)==null?void 0:j.filter(e=>e.group_id!=0),e=>(a(),c(m,{key:e.group_id},[C(t("div",{id:`toolbox_cate_${e.group_id}`,class:"text-secondary text-sm py-4"},u(e.group_name),9,De),[[E,e.visible]]),r(O,{name:"list",tag:"div",class:"grid grid-cols-4 gap-5 mb-4 max-lg:grid-cols-3 max-md:grid-cols-2 max-sm:grid-cols-1"},{default:f(()=>[(a(!0),c(m,null,w(h(s).appMap[e.group_id],i=>C((a(),c("div",{key:i.key,onClick:R=>A(i),class:"h-[130px] bg-white rounded-[10px] px-5 flex items-center gap-2 cursor-pointer hover:shadow"},[r(q,{class:"size-[70px] border rounded-full",fit:"contain",lazy:"",src:i.logo},null,8,["src"]),t("div",Ke,[t("div",Oe,u(i.name),1),t("div",Pe,u(i.description),1)])],8,Ge)),[[E,i.visible]])),128))]),_:2},1024)],64))),128))])],512)]))}}}),Xe=pe(Je,[["__scopeId","data-v-dbea4fa5"]]),Ye={class:"h-full bg-white flex flex-col"},Qe={class:"flex items-center gap-1 text-sm text-secondary"},lo=J({__name:"index",setup(l){return(s,p)=>{const v=F("svg-icon"),T=F("router-link");return a(),c("div",Ye,[r(he,null,{before_suffix:f(()=>p[0]||(p[0]=[t("div",{class:"text-base text-primary font-bold line-clamp-1"},"AI å¯¼èˆª",-1)])),after_prefix:f(()=>[t("div",Qe,[r(v,{name:"index"}),r(T,{to:{name:"Home"}},{default:f(()=>[X(u(s.$t("common.back_home")),1)]),_:1})])]),_:1}),r(Xe)])}}});export{lo as default};

import{ak as te,B,ba as Ke,al as ne,P as j,c as P,b as $,aq as G,n as L,R as b,D as ae,bc as se,ar as $e,an as We,av as je,e as T,a7 as Q,r as N,b5 as Se,o as Me,K as Y,ai as ve,a as Ae,f as C,br as Pe,j as F,h as ee,d as l,t as _,a_ as ie,i as re,a0 as he,F as oe,a3 as pe,bs as Je,bt as de,Y as fe,bu as Xe,bv as Ze,G as et,I as tt,$ as H,aJ as nt,v as ye,L as le,aK as ot,aI as at,bw as ce,b9 as ue,U as rt,bx as st,by as Ee,bz as xe,N as Ce,E as it,ah as lt,bA as ct,bB as ut,a2 as dt,bC as ft,bD as vt}from"./main-aAIm056l.js";import{E as ht,a as pt,b as _t}from"./el-scrollbar-CRdGezmP.js";import{E as mt}from"./el-image-viewer-D-9gw56f.js";import{v as Re}from"./el-loading-CP_lVFA8.js";import{u as gt}from"./enterprise-D8ZxfHL9.js";import{u as bt}from"./global-BKHxfx8f.js";const wt=B({name:"ElContainer"}),yt=B({...wt,props:{direction:{type:String}},setup(s){const d=s,i=Ke(),u=ne("container"),f=j(()=>d.direction==="vertical"?!0:d.direction==="horizontal"?!1:i&&i.default?i.default().some(o=>{const e=o.type.name;return e==="ElHeader"||e==="ElFooter"}):!1);return(h,o)=>($(),P("section",{class:L([b(u).b(),b(u).is("vertical",b(f))])},[G(h.$slots,"default")],2))}});var Et=te(yt,[["__file","container.vue"]]);const xt=B({name:"ElAside"}),Ct=B({...xt,props:{width:{type:String,default:null}},setup(s){const d=s,i=ne("aside"),u=j(()=>d.width?i.cssVarBlock({width:d.width}):{});return(f,h)=>($(),P("aside",{class:L(b(i).b()),style:ae(b(u))},[G(f.$slots,"default")],6))}});var Ne=te(Ct,[["__file","aside.vue"]]);const $t=B({name:"ElFooter"}),St=B({...$t,props:{height:{type:String,default:null}},setup(s){const d=s,i=ne("footer"),u=j(()=>d.height?i.cssVarBlock({height:d.height}):{});return(f,h)=>($(),P("footer",{class:L(b(i).b()),style:ae(b(u))},[G(f.$slots,"default")],6))}});var Fe=te(St,[["__file","footer.vue"]]);const Mt=B({name:"ElHeader"}),At=B({...Mt,props:{height:{type:String,default:null}},setup(s){const d=s,i=ne("header"),u=j(()=>d.height?i.cssVarBlock({height:d.height}):{});return(f,h)=>($(),P("header",{class:L(b(i).b()),style:ae(b(u))},[G(f.$slots,"default")],6))}});var ze=te(At,[["__file","header.vue"]]);const Pt=B({name:"ElMain"}),Rt=B({...Pt,setup(s){const d=ne("main");return(i,u)=>($(),P("main",{class:L(b(d).b())},[G(i.$slots,"default")],2))}});var ke=te(Rt,[["__file","main.vue"]]);const Nt=$e(Et,{Aside:Ne,Footer:Fe,Header:ze,Main:ke}),Ft=se(Ne);se(Fe);se(ze);const zt=se(ke),kt=We({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},contentPosition:{type:String,values:["left","center","right"],default:"center"},borderStyle:{type:je(String),default:"solid"}}),It=B({name:"ElDivider"}),Lt=B({...It,props:kt,setup(s){const d=s,i=ne("divider"),u=j(()=>i.cssVar({"border-style":d.borderStyle}));return(f,h)=>($(),P("div",{class:L([b(i).b(),b(i).m(f.direction)]),style:ae(b(u)),role:"separator"},[f.$slots.default&&f.direction!=="vertical"?($(),P("div",{key:0,class:L([b(i).e("text"),b(i).is(f.contentPosition)])},[G(f.$slots,"default")],2)):T("v-if",!0)],6))}});var Bt=te(Lt,[["__file","divider.vue"]]);const Dt=$e(Bt);/*!
 * qrcode.vue v3.6.0
 * A Vue.js component to generate QRCode. Both support Vue 2 and Vue 3
 * © 2017-PRESENT @scopewu(https://github.com/scopewu)
 * MIT License.
 */var q=function(){return q=Object.assign||function(d){for(var i,u=1,f=arguments.length;u<f;u++){i=arguments[u];for(var h in i)Object.prototype.hasOwnProperty.call(i,h)&&(d[h]=i[h])}return d},q.apply(this,arguments)};var X;(function(s){var d=function(){function o(e,t,n,a){if(this.version=e,this.errorCorrectionLevel=t,this.modules=[],this.isFunction=[],e<o.MIN_VERSION||e>o.MAX_VERSION)throw new RangeError("Version value out of range");if(a<-1||a>7)throw new RangeError("Mask value out of range");this.size=e*4+17;for(var c=[],r=0;r<this.size;r++)c.push(!1);for(var r=0;r<this.size;r++)this.modules.push(c.slice()),this.isFunction.push(c.slice());this.drawFunctionPatterns();var v=this.addEccAndInterleave(n);if(this.drawCodewords(v),a==-1)for(var m=1e9,r=0;r<8;r++){this.applyMask(r),this.drawFormatBits(r);var w=this.getPenaltyScore();w<m&&(a=r,m=w),this.applyMask(r)}f(0<=a&&a<=7),this.mask=a,this.applyMask(a),this.drawFormatBits(a),this.isFunction=[]}return o.encodeText=function(e,t){var n=s.QrSegment.makeSegments(e);return o.encodeSegments(n,t)},o.encodeBinary=function(e,t){var n=s.QrSegment.makeBytes(e);return o.encodeSegments([n],t)},o.encodeSegments=function(e,t,n,a,c,r){if(n===void 0&&(n=1),a===void 0&&(a=40),c===void 0&&(c=-1),r===void 0&&(r=!0),!(o.MIN_VERSION<=n&&n<=a&&a<=o.MAX_VERSION)||c<-1||c>7)throw new RangeError("Invalid value");var v,m;for(v=n;;v++){var w=o.getNumDataCodewords(v,t)*8,y=h.getTotalBits(e,v);if(y<=w){m=y;break}if(v>=a)throw new RangeError("Data too long")}for(var A=0,R=[o.Ecc.MEDIUM,o.Ecc.QUARTILE,o.Ecc.HIGH];A<R.length;A++){var S=R[A];r&&m<=o.getNumDataCodewords(v,S)*8&&(t=S)}for(var x=[],E=0,I=e;E<I.length;E++){var k=I[E];i(k.mode.modeBits,4,x),i(k.numChars,k.mode.numCharCountBits(v),x);for(var O=0,D=k.getData();O<D.length;O++){var K=D[O];x.push(K)}}f(x.length==m);var U=o.getNumDataCodewords(v,t)*8;f(x.length<=U),i(0,Math.min(4,U-x.length),x),i(0,(8-x.length%8)%8,x),f(x.length%8==0);for(var V=236;x.length<U;V^=253)i(V,8,x);for(var p=[];p.length*8<x.length;)p.push(0);return x.forEach(function(M,z){return p[z>>>3]|=M<<7-(z&7)}),new o(v,t,p,c)},o.prototype.getModule=function(e,t){return 0<=e&&e<this.size&&0<=t&&t<this.size&&this.modules[t][e]},o.prototype.getModules=function(){return this.modules},o.prototype.drawFunctionPatterns=function(){for(var e=0;e<this.size;e++)this.setFunctionModule(6,e,e%2==0),this.setFunctionModule(e,6,e%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);for(var t=this.getAlignmentPatternPositions(),n=t.length,e=0;e<n;e++)for(var a=0;a<n;a++)e==0&&a==0||e==0&&a==n-1||e==n-1&&a==0||this.drawAlignmentPattern(t[e],t[a]);this.drawFormatBits(0),this.drawVersion()},o.prototype.drawFormatBits=function(e){for(var t=this.errorCorrectionLevel.formatBits<<3|e,n=t,a=0;a<10;a++)n=n<<1^(n>>>9)*1335;var c=(t<<10|n)^21522;f(c>>>15==0);for(var a=0;a<=5;a++)this.setFunctionModule(8,a,u(c,a));this.setFunctionModule(8,7,u(c,6)),this.setFunctionModule(8,8,u(c,7)),this.setFunctionModule(7,8,u(c,8));for(var a=9;a<15;a++)this.setFunctionModule(14-a,8,u(c,a));for(var a=0;a<8;a++)this.setFunctionModule(this.size-1-a,8,u(c,a));for(var a=8;a<15;a++)this.setFunctionModule(8,this.size-15+a,u(c,a));this.setFunctionModule(8,this.size-8,!0)},o.prototype.drawVersion=function(){if(!(this.version<7)){for(var e=this.version,t=0;t<12;t++)e=e<<1^(e>>>11)*7973;var n=this.version<<12|e;f(n>>>18==0);for(var t=0;t<18;t++){var a=u(n,t),c=this.size-11+t%3,r=Math.floor(t/3);this.setFunctionModule(c,r,a),this.setFunctionModule(r,c,a)}}},o.prototype.drawFinderPattern=function(e,t){for(var n=-4;n<=4;n++)for(var a=-4;a<=4;a++){var c=Math.max(Math.abs(a),Math.abs(n)),r=e+a,v=t+n;0<=r&&r<this.size&&0<=v&&v<this.size&&this.setFunctionModule(r,v,c!=2&&c!=4)}},o.prototype.drawAlignmentPattern=function(e,t){for(var n=-2;n<=2;n++)for(var a=-2;a<=2;a++)this.setFunctionModule(e+a,t+n,Math.max(Math.abs(a),Math.abs(n))!=1)},o.prototype.setFunctionModule=function(e,t,n){this.modules[t][e]=n,this.isFunction[t][e]=!0},o.prototype.addEccAndInterleave=function(e){var t=this.version,n=this.errorCorrectionLevel;if(e.length!=o.getNumDataCodewords(t,n))throw new RangeError("Invalid argument");for(var a=o.NUM_ERROR_CORRECTION_BLOCKS[n.ordinal][t],c=o.ECC_CODEWORDS_PER_BLOCK[n.ordinal][t],r=Math.floor(o.getNumRawDataModules(t)/8),v=a-r%a,m=Math.floor(r/a),w=[],y=o.reedSolomonComputeDivisor(c),A=0,R=0;A<a;A++){var S=e.slice(R,R+m-c+(A<v?0:1));R+=S.length;var x=o.reedSolomonComputeRemainder(S,y);A<v&&S.push(0),w.push(S.concat(x))}for(var E=[],I=function(k){w.forEach(function(O,D){(k!=m-c||D>=v)&&E.push(O[k])})},A=0;A<w[0].length;A++)I(A);return f(E.length==r),E},o.prototype.drawCodewords=function(e){if(e.length!=Math.floor(o.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");for(var t=0,n=this.size-1;n>=1;n-=2){n==6&&(n=5);for(var a=0;a<this.size;a++)for(var c=0;c<2;c++){var r=n-c,v=(n+1&2)==0,m=v?this.size-1-a:a;!this.isFunction[m][r]&&t<e.length*8&&(this.modules[m][r]=u(e[t>>>3],7-(t&7)),t++)}}f(t==e.length*8)},o.prototype.applyMask=function(e){if(e<0||e>7)throw new RangeError("Mask value out of range");for(var t=0;t<this.size;t++)for(var n=0;n<this.size;n++){var a=void 0;switch(e){case 0:a=(n+t)%2==0;break;case 1:a=t%2==0;break;case 2:a=n%3==0;break;case 3:a=(n+t)%3==0;break;case 4:a=(Math.floor(n/3)+Math.floor(t/2))%2==0;break;case 5:a=n*t%2+n*t%3==0;break;case 6:a=(n*t%2+n*t%3)%2==0;break;case 7:a=((n+t)%2+n*t%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[t][n]&&a&&(this.modules[t][n]=!this.modules[t][n])}},o.prototype.getPenaltyScore=function(){for(var e=0,t=0;t<this.size;t++){for(var n=!1,a=0,c=[0,0,0,0,0,0,0],r=0;r<this.size;r++)this.modules[t][r]==n?(a++,a==5?e+=o.PENALTY_N1:a>5&&e++):(this.finderPenaltyAddHistory(a,c),n||(e+=this.finderPenaltyCountPatterns(c)*o.PENALTY_N3),n=this.modules[t][r],a=1);e+=this.finderPenaltyTerminateAndCount(n,a,c)*o.PENALTY_N3}for(var r=0;r<this.size;r++){for(var n=!1,v=0,c=[0,0,0,0,0,0,0],t=0;t<this.size;t++)this.modules[t][r]==n?(v++,v==5?e+=o.PENALTY_N1:v>5&&e++):(this.finderPenaltyAddHistory(v,c),n||(e+=this.finderPenaltyCountPatterns(c)*o.PENALTY_N3),n=this.modules[t][r],v=1);e+=this.finderPenaltyTerminateAndCount(n,v,c)*o.PENALTY_N3}for(var t=0;t<this.size-1;t++)for(var r=0;r<this.size-1;r++){var m=this.modules[t][r];m==this.modules[t][r+1]&&m==this.modules[t+1][r]&&m==this.modules[t+1][r+1]&&(e+=o.PENALTY_N2)}for(var w=0,y=0,A=this.modules;y<A.length;y++){var R=A[y];w=R.reduce(function(E,I){return E+(I?1:0)},w)}var S=this.size*this.size,x=Math.ceil(Math.abs(w*20-S*10)/S)-1;return f(0<=x&&x<=9),e+=x*o.PENALTY_N4,f(0<=e&&e<=2568888),e},o.prototype.getAlignmentPatternPositions=function(){if(this.version==1)return[];for(var e=Math.floor(this.version/7)+2,t=Math.floor((this.version*8+e*3+5)/(e*4-4))*2,n=[6],a=this.size-7;n.length<e;a-=t)n.splice(1,0,a);return n},o.getNumRawDataModules=function(e){if(e<o.MIN_VERSION||e>o.MAX_VERSION)throw new RangeError("Version number out of range");var t=(16*e+128)*e+64;if(e>=2){var n=Math.floor(e/7)+2;t-=(25*n-10)*n-55,e>=7&&(t-=36)}return f(208<=t&&t<=29648),t},o.getNumDataCodewords=function(e,t){return Math.floor(o.getNumRawDataModules(e)/8)-o.ECC_CODEWORDS_PER_BLOCK[t.ordinal][e]*o.NUM_ERROR_CORRECTION_BLOCKS[t.ordinal][e]},o.reedSolomonComputeDivisor=function(e){if(e<1||e>255)throw new RangeError("Degree out of range");for(var t=[],n=0;n<e-1;n++)t.push(0);t.push(1);for(var a=1,n=0;n<e;n++){for(var c=0;c<t.length;c++)t[c]=o.reedSolomonMultiply(t[c],a),c+1<t.length&&(t[c]^=t[c+1]);a=o.reedSolomonMultiply(a,2)}return t},o.reedSolomonComputeRemainder=function(e,t){for(var n=t.map(function(m){return 0}),a=function(m){var w=m^n.shift();n.push(0),t.forEach(function(y,A){return n[A]^=o.reedSolomonMultiply(y,w)})},c=0,r=e;c<r.length;c++){var v=r[c];a(v)}return n},o.reedSolomonMultiply=function(e,t){if(e>>>8||t>>>8)throw new RangeError("Byte out of range");for(var n=0,a=7;a>=0;a--)n=n<<1^(n>>>7)*285,n^=(t>>>a&1)*e;return f(n>>>8==0),n},o.prototype.finderPenaltyCountPatterns=function(e){var t=e[1];f(t<=this.size*3);var n=t>0&&e[2]==t&&e[3]==t*3&&e[4]==t&&e[5]==t;return(n&&e[0]>=t*4&&e[6]>=t?1:0)+(n&&e[6]>=t*4&&e[0]>=t?1:0)},o.prototype.finderPenaltyTerminateAndCount=function(e,t,n){return e&&(this.finderPenaltyAddHistory(t,n),t=0),t+=this.size,this.finderPenaltyAddHistory(t,n),this.finderPenaltyCountPatterns(n)},o.prototype.finderPenaltyAddHistory=function(e,t){t[0]==0&&(e+=this.size),t.pop(),t.unshift(e)},o.MIN_VERSION=1,o.MAX_VERSION=40,o.PENALTY_N1=3,o.PENALTY_N2=3,o.PENALTY_N3=40,o.PENALTY_N4=10,o.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],o.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],o}();s.QrCode=d;function i(o,e,t){if(e<0||e>31||o>>>e)throw new RangeError("Value out of range");for(var n=e-1;n>=0;n--)t.push(o>>>n&1)}function u(o,e){return(o>>>e&1)!=0}function f(o){if(!o)throw new Error("Assertion error")}var h=function(){function o(e,t,n){if(this.mode=e,this.numChars=t,this.bitData=n,t<0)throw new RangeError("Invalid argument");this.bitData=n.slice()}return o.makeBytes=function(e){for(var t=[],n=0,a=e;n<a.length;n++){var c=a[n];i(c,8,t)}return new o(o.Mode.BYTE,e.length,t)},o.makeNumeric=function(e){if(!o.isNumeric(e))throw new RangeError("String contains non-numeric characters");for(var t=[],n=0;n<e.length;){var a=Math.min(e.length-n,3);i(parseInt(e.substring(n,n+a),10),a*3+1,t),n+=a}return new o(o.Mode.NUMERIC,e.length,t)},o.makeAlphanumeric=function(e){if(!o.isAlphanumeric(e))throw new RangeError("String contains unencodable characters in alphanumeric mode");var t=[],n;for(n=0;n+2<=e.length;n+=2){var a=o.ALPHANUMERIC_CHARSET.indexOf(e.charAt(n))*45;a+=o.ALPHANUMERIC_CHARSET.indexOf(e.charAt(n+1)),i(a,11,t)}return n<e.length&&i(o.ALPHANUMERIC_CHARSET.indexOf(e.charAt(n)),6,t),new o(o.Mode.ALPHANUMERIC,e.length,t)},o.makeSegments=function(e){return e==""?[]:o.isNumeric(e)?[o.makeNumeric(e)]:o.isAlphanumeric(e)?[o.makeAlphanumeric(e)]:[o.makeBytes(o.toUtf8ByteArray(e))]},o.makeEci=function(e){var t=[];if(e<0)throw new RangeError("ECI assignment value out of range");if(e<128)i(e,8,t);else if(e<16384)i(2,2,t),i(e,14,t);else if(e<1e6)i(6,3,t),i(e,21,t);else throw new RangeError("ECI assignment value out of range");return new o(o.Mode.ECI,0,t)},o.isNumeric=function(e){return o.NUMERIC_REGEX.test(e)},o.isAlphanumeric=function(e){return o.ALPHANUMERIC_REGEX.test(e)},o.prototype.getData=function(){return this.bitData.slice()},o.getTotalBits=function(e,t){for(var n=0,a=0,c=e;a<c.length;a++){var r=c[a],v=r.mode.numCharCountBits(t);if(r.numChars>=1<<v)return 1/0;n+=4+v+r.bitData.length}return n},o.toUtf8ByteArray=function(e){e=encodeURI(e);for(var t=[],n=0;n<e.length;n++)e.charAt(n)!="%"?t.push(e.charCodeAt(n)):(t.push(parseInt(e.substring(n+1,n+3),16)),n+=2);return t},o.NUMERIC_REGEX=/^[0-9]*$/,o.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,o.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",o}();s.QrSegment=h})(X||(X={}));(function(s){(function(d){var i=function(){function u(f,h){this.ordinal=f,this.formatBits=h}return u.LOW=new u(0,1),u.MEDIUM=new u(1,0),u.QUARTILE=new u(2,3),u.HIGH=new u(3,2),u}();d.Ecc=i})(s.QrCode||(s.QrCode={}))})(X||(X={}));(function(s){(function(d){var i=function(){function u(f,h){this.modeBits=f,this.numBitsCharCount=h}return u.prototype.numCharCountBits=function(f){return this.numBitsCharCount[Math.floor((f+7)/17)]},u.NUMERIC=new u(1,[10,12,14]),u.ALPHANUMERIC=new u(2,[9,11,13]),u.BYTE=new u(4,[8,16,16]),u.KANJI=new u(8,[8,10,12]),u.ECI=new u(7,[0,0,0]),u}();d.Mode=i})(s.QrSegment||(s.QrSegment={}))})(X||(X={}));var Z=X,_e="L",me={L:Z.QrCode.Ecc.LOW,M:Z.QrCode.Ecc.MEDIUM,Q:Z.QrCode.Ecc.QUARTILE,H:Z.QrCode.Ecc.HIGH},Tt=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}();function ge(s){return s in me}function Ie(s,d){d===void 0&&(d=0);var i=[];return s.forEach(function(u,f){var h=null;u.forEach(function(o,e){if(!o&&h!==null){i.push("M".concat(h+d," ").concat(f+d,"h").concat(e-h,"v1H").concat(h+d,"z")),h=null;return}if(e===u.length-1){if(!o)return;h===null?i.push("M".concat(e+d,",").concat(f+d," h1v1H").concat(e+d,"z")):i.push("M".concat(h+d,",").concat(f+d," h").concat(e+1-h,"v1H").concat(h+d,"z"));return}o&&h===null&&(h=e)})}),i.join("")}function Le(s,d,i,u){var f=u.width,h=u.height,o=u.x,e=u.y,t=s.length+i*2,n=Math.floor(d*.1),a=t/d,c=(f||n)*a,r=(h||n)*a,v=o==null?s.length/2-c/2:o*a,m=e==null?s.length/2-r/2:e*a,w=null;if(u.excavate){var y=Math.floor(v),A=Math.floor(m),R=Math.ceil(c+v-y),S=Math.ceil(r+m-A);w={x:y,y:A,w:R,h:S}}return{x:v,y:m,h:r,w:c,excavation:w}}function Be(s,d){return s.slice().map(function(i,u){return u<d.y||u>=d.y+d.h?i:i.map(function(f,h){return h<d.x||h>=d.x+d.w?f:!1})})}var be={value:{type:String,required:!0,default:""},size:{type:Number,default:100},level:{type:String,default:_e,validator:function(s){return ge(s)}},background:{type:String,default:"#fff"},foreground:{type:String,default:"#000"},margin:{type:Number,required:!1,default:0},imageSettings:{type:Object,required:!1,default:function(){return{}}},gradient:{type:Boolean,required:!1,default:!1},gradientType:{type:String,required:!1,default:"linear",validator:function(s){return["linear","radial"].indexOf(s)>-1}},gradientStartColor:{type:String,required:!1,default:"#000"},gradientEndColor:{type:String,required:!1,default:"#fff"}},Ot=q(q({},be),{renderAs:{type:String,required:!1,default:"canvas",validator:function(s){return["canvas","svg"].indexOf(s)>-1}}}),Ut=B({name:"QRCodeSvg",props:be,setup:function(s){var d=N(0),i=N(""),u,f=function(){var o=s.value,e=s.level,t=s.margin,n=t>>>0,a=ge(e)?e:_e,c=Z.QrCode.encodeText(o,me[a]).getModules();if(d.value=c.length+n*2,s.imageSettings.src){var r=Le(c,s.size,n,s.imageSettings);u={x:r.x+n,y:r.y+n,width:r.w,height:r.h},r.excavation&&(c=Be(c,r.excavation))}i.value=Ie(c,n)},h=function(){if(!s.gradient)return null;var o=s.gradientType==="linear"?{x1:"0%",y1:"0%",x2:"100%",y2:"100%"}:{cx:"50%",cy:"50%",r:"50%",fx:"50%",fy:"50%"};return Q(s.gradientType==="linear"?"linearGradient":"radialGradient",q({id:"qr-gradient"},o),[Q("stop",{offset:"0%",style:{stopColor:s.gradientStartColor}}),Q("stop",{offset:"100%",style:{stopColor:s.gradientEndColor}})])};return f(),Se(f),function(){return Q("svg",{width:s.size,height:s.size,"shape-rendering":"crispEdges",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(d.value," ").concat(d.value)},[Q("defs",{},[h()]),Q("rect",{width:"100%",height:"100%",fill:s.background}),Q("path",{fill:s.gradient?"url(#qr-gradient)":s.foreground,d:i.value}),s.imageSettings.src&&Q("image",q({href:s.imageSettings.src},u))])}}}),Qt=B({name:"QRCodeCanvas",props:be,setup:function(s,d){var i=N(null),u=N(null),f=function(){var o=s.value,e=s.level,t=s.size,n=s.margin,a=s.background,c=s.foreground,r=s.gradient,v=s.gradientType,m=s.gradientStartColor,w=s.gradientEndColor,y=n>>>0,A=ge(e)?e:_e,R=i.value;if(R){var S=R.getContext("2d");if(S){var x=Z.QrCode.encodeText(o,me[A]).getModules(),E=x.length+y*2,I=u.value,k={x:0,y:0,width:0,height:0},O=s.imageSettings.src&&I!=null&&I.naturalWidth!==0&&I.naturalHeight!==0;if(O){var D=Le(x,s.size,y,s.imageSettings);k={x:D.x+y,y:D.y+y,width:D.w,height:D.h},D.excavation&&(x=Be(x,D.excavation))}var K=window.devicePixelRatio||1,U=t/E*K;if(R.height=R.width=t*K,S.scale(U,U),S.fillStyle=a,S.fillRect(0,0,E,E),r){var V=void 0;v==="linear"?V=S.createLinearGradient(0,0,E,E):V=S.createRadialGradient(E/2,E/2,0,E/2,E/2,E/2),V.addColorStop(0,m),V.addColorStop(1,w),S.fillStyle=V}else S.fillStyle=c;Tt?S.fill(new Path2D(Ie(x,y))):x.forEach(function(p,M){p.forEach(function(z,J){z&&S.fillRect(J+y,M+y,1,1)})}),O&&S.drawImage(I,k.x,k.y,k.width,k.height)}}};Me(f),Se(f);var h=d.attrs.style;return function(){return Q(Y,[Q("canvas",q(q({},d.attrs),{ref:i,style:q(q({},h),{width:"".concat(s.size,"px"),height:"".concat(s.size,"px")})})),s.imageSettings.src&&Q("img",{ref:u,src:s.imageSettings.src,style:{display:"none"},onLoad:f})])}}}),Vt=B({name:"Qrcode",render:function(){var s=this.$props,d=s.renderAs,i=s.value,u=s.size,f=s.margin,h=s.level,o=s.background,e=s.foreground,t=s.imageSettings,n=s.gradient,a=s.gradientType,c=s.gradientStartColor,r=s.gradientEndColor;return Q(d==="svg"?Ut:Qt,{value:i,size:u,margin:f,level:h,background:o,foreground:e,imageSettings:t,gradient:n,gradientType:a,gradientStartColor:c,gradientEndColor:r})},props:Ot});const Ht={class:"flex flex-col items-center justify-center"},Gt={class:"text-sm text-[#4F5052]"},qt={class:"mt-2 text-2xl font-bold text-[#3664EF]"},Yt={class:"text-base mr-1"},Kt={class:"mt-3 w-[200px] h-[200px] rounded-lg flex items-center justify-center"},Wt={class:"mt-3 text-lg text-[#000]"},jt=["innerHTML"],Jt={class:"mt-8 flex flex-col items-center justify-center gap-4"},Xt={class:"text-2xl text-[#000]"},Zt=B({__name:"payment-qrcode",emits:["success"],setup(s,{expose:d,emit:i}){const u=i,f=ve(),h=ie("active_subscription_info"),o=ie("active_time_info"),e=ie("active_payment"),t=N(!1),n=N(!1),a=N(""),c=N(!1),r=N({});Ae(()=>{R()});function v(){return{user_id:f.info.user_id,nickname:f.info.nickname,subscription_id:h.value.group_id,subscription_name:h.value.group_name,pay_type:e.value,amount:Math.round(Number(o.value.amount||0).toFixed(2)*1e4)/100,currency:o.value.currency,duration:1,time_unit:o.value.time_unit}}async function m(){a.value="",t.value=!0,r.value=await de.createOrder({params:v()}),await fe(),A(),a.value=r.value.code_url,n.value=!1}function w(){t.value=!1,R()}let y=null;function A(){S(),R(),y=setInterval(()=>{S()},5e3)}function R(){y&&(clearInterval(y),y=null)}function S(){return de.getOrderStatus({order_id:r.value.payment_order_id}).then(E=>{E.originalStatus==="SUCCESS"&&(Xe({key:Ze(JSON.stringify(v())),value:{}}),R(),c.value=!0)})}function x(){c.value=!1,w(),u("success")}return d({open:m,close:w}),(E,I)=>{const k=he,O=Pe,D=pe,K=Re;return $(),P("div",null,[C(O,{"header-class":"!px-5 !py-3","footer-class":"!hidden","append-to-body":"","destroy-on-close":"",width:"640px",title:E.$t("subscription.order_title"),"close-on-click-modal":!1,modelValue:t.value,"onUpdate:modelValue":I[0]||(I[0]=U=>t.value=U),onClosed:w},{default:F(()=>[ee(($(),P("div",Ht,[l("h4",Gt,_(E.$t("subscription.pay_amount")),1),l("div",qt,[l("span",Yt,_(b(o).currency_symbol||"￥"),1),l("span",null,_(Number(b(o).amount||0).toFixed(2)),1)]),l("div",Kt,[a.value?($(),re(Vt,{key:0,ref:"qrcode_ref",value:a.value,size:180,level:"H"},null,8,["value"])):T("",!0)]),l("div",Wt,_(E.$t("subscription.pay_by_wechat")),1),l("div",{class:"mt-2 text-xs text-[#666666]",innerHTML:E.$t("subscription.pay_policy",{policy:"<a style='color: #2F74FF;' href='#' target='_blank'>《隐私政策协议》</a>"})},null,8,jt)])),[[K,n.value]]),C(k,{class:"relative mt-8 mb-6 left-1/2 -translate-x-1/2 !px-8 !bg-[#F6F7F8] !text-[#333]",type:"info",plain:"",size:"large",onClick:w},{default:F(()=>[oe(_(E.$t("action.cancel")),1)]),_:1})]),_:1},8,["title","modelValue"]),C(O,{center:"","append-to-body":"","destroy-on-close":"",width:"400px","close-on-click-modal":!1,modelValue:c.value,"onUpdate:modelValue":I[1]||(I[1]=U=>c.value=U),onClosed:x},{footer:F(()=>[C(k,{class:"mt-8 mb-6 !px-8",type:"primary",size:"large",onClick:x},{default:F(()=>[oe(_(E.$t("action.ok_v2")),1)]),_:1})]),default:F(()=>[l("div",Jt,[C(D,{size:"58",color:"#3ABA52"},{default:F(()=>[C(b(Je))]),_:1}),l("span",Xt,_(E.$t("subscription.pay_success")),1)])]),_:1},8,["modelValue"])])}}}),en={async getAvailableList(){const{data:s={}}=await et.get("/api/payment/available").catch(tt);return s}},tn={class:"flex-none text-xl font-semibold text-[#000]"},nn={class:"flex-1 h-0 max-h-max relative"},on=["onClick"],an={class:"w-full flex items-center gap-3"},rn=["src"],sn=["title"],ln={key:0,class:"flex-1"},cn={key:1},un={class:"flex items-center gap-1"},dn={class:"text-lg font-bold text-[#000]"},fn={class:"text-xs text-[#333]"},vn={class:"text-xs text-[#9A9A9A]"},hn={class:"flex items-center gap-1"},pn={class:"text-lg font-bold text-[#000]"},_n={class:"text-xs text-[#333]"},mn={class:"text-xs text-[#9A9A9A]"},gn={class:"text-sm font-semibold text-[#1D1E1F]"},bn={class:"flex flex-wrap gap-3.5 mt-4"},wn=["title"],yn=["src","alt"],En={class:"flex-1 text-sm text-[#4F5052] truncate"},xn={class:"text-sm font-semibold text-[#1D1E1F]"},Cn={class:"mt-4 flex flex-wrap items-center gap-2"},$n=["src"],Sn=["src"],Mn=["src"],An={class:"flex-none text-xl font-semibold text-[#000]"},Pn={class:"flex-none w-full flex items-center gap-5 overflow-x-auto overflow-y-hidden"},Rn=["onClick"],Nn={class:"text-sm text-[#000]"},Fn={class:"mt-2 flex items-baseline"},zn={class:"text-lg font-bold text-[#000]"},kn={class:"text-2xl font-bold text-[#000] mx-1"},In={class:"text-sm text-[#333]"},Ln={class:"mt-10 text-2xl font-semibold text-[#000]"},Bn={class:"mt-2 text-sm text-[#333]"},Dn={class:"w-full flex items-center gap-2 mt-3"},Tn=["src"],On={class:"flex-1 text-sm font-medium text-[#333]"},Un={class:"w-full flex-1 min-h-[108px]"},Qn={class:"w-full flex items-center justify-between text-lg text-[#000]"},Vn={class:"text-lg text-[#000]"},Hn={class:"text-[#333]"},Gn={class:"text-[#000] text-xl mt-8 flex items-center justify-between gap-2"},qn=B({__name:"index",setup(s,{expose:d}){const i=ve(),u=N(),f=N(),h=N(!1),o=N(!1),e=N([]),t=N(""),n=N("month"),a=N(0),c=N(0),r=N(0),v=N(ce),m=N([]),w=j(()=>e.value.find(p=>p.group_id==t.value)||{}),y=j(()=>w.value[`${n.value}_info`]||{}),A=j(()=>!Number(y.value.amount||0));ue("active_subscription_info",w),ue("active_time_info",y),ue("active_payment",v);async function R(){h.value=!0,await x(),t.value=(e.value[0]||{}).group_id,await fe();const p=u.value.$el;p.getBoundingClientRect().width;const z=p.querySelector(".el-scrollbar__view").children;if(z.length>3){const J=z[0].getBoundingClientRect().width;r.value=J+16,c.value=r.value*(z.length-3)}}function S(){h.value=!1}async function x(){if(e.value.length)return Promise.resolve(e.value);o.value=!0;const{list:p=[]}=await de.list().finally(()=>{o.value=!1});return e.value=p,V(),Promise.resolve(e.value)}async function E({data:p={}}={}){t.value=p.group_id||t.value,await fe(),n.value="month",!+(w.value.month_info||{}).amount&&+(w.value.year_info||{}).amount&&(n.value="year")}function I({unit:p="month"}){n.value=p}function k({type:p}){}function O(){for(let p=0;p<r.value;p+=6)setTimeout(()=>{a.value-=6,u.value.setScrollLeft(a.value)},1)}function D(){for(let p=0;p<r.value;p+=6)setTimeout(()=>{a.value+=6,u.value.setScrollLeft(a.value)},1)}async function K({data:p={}}={}){const M=await en.getAvailableList();m.value=M.filter((z={})=>z.pay_type==ce&&z.enabled&&z.configured)}async function U(){return await x(),!(!e.value.length||(await K(),!m.value.length))}async function V({refresh:p=!1}={}){p&&await i.getUserInfo();const M=e.value.find((z={})=>z.group_id==i.info.group_id);M&&(i.setGroupName(M.group_name||i.info.group_name),i.setGroupIcon(M.logo_url||i.info.group_icon))}return d({open:R,close:S,validateUpgrade:U}),(p,M)=>{const z=he,J=Dt,De=ht,Te=zt,Oe=pe,Ue=_t,Qe=pt,Ve=Ft,He=Nt,Ge=Pe,qe=Re;return $(),P("div",null,[C(Ge,{class:"max-w-[1200px] rounded-md !p-0 overflow-hidden","header-class":"hidden","footer-class":"hidden","show-close":!1,"append-to-body":"",center:"","destroy-on-close":"",width:"90%",modelValue:h.value,"onUpdate:modelValue":M[5]||(M[5]=g=>h.value=g)},{default:F(()=>[ee(($(),re(He,{class:"h-[74vh]"},{default:F(()=>[C(Te,{class:"!flex flex-col gap-4 relative !overflow-hidden !py-8 !pl-12 !pr-2"},{default:F(()=>[l("h1",tn,_(p.$t("subscription.version_title")),1),l("div",nn,[ee(C(z,{class:"absolute -left-4 top-1/2 -translate-y-1/2 z-10 bg-[#F5F2F2] text-[#333] !border-none !outline-none",icon:b(nt),size:"default",circle:"",onClick:H(O,["stop"])},null,8,["icon"]),[[ye,a.value>0]]),C(De,{ref_key:"version_scrollbar_ref",ref:u,class:"relative version-scrollbar h-full","view-class":"relative  flex flex-nowrap gap-4 transition-all duration-300"},{default:F(()=>[($(!0),P(Y,null,le(e.value,(g,we)=>($(),P("div",{key:we,class:L(["flex-none rounded-md px-3.5 pt-4 pb-10 box-border border cursor-pointer",[e.value.length>2?"w-[31%] max-w-[240px]":e.value.length>1?"w-[47%] max-w-[340px]":"w-full",g.group_id==t.value?"shadow-[0_0_20px_rgba(6, 114, 255, 0.2)] border-[#2F74FF] bg-cover bg-center":"border-[#EAEDF7] bg-[#F5F6FC]"]]),style:ae({backgroundImage:g.group_id==t.value?`url(${p.$getPublicPath("/images/subscription/version-bg.png")})`:"none"}),onClick:H(W=>E({data:g}),["stop"])},[l("header",an,[l("img",{src:/\.png$/.test(g.logo)?g.logo:p.$getPublicPath(`/images/subscription/${g.logo}.png`),class:"flex-none w-12 h-12 rounded-full overflow-auto"},null,8,rn),l("h2",{class:L(["text-lg font-semibold text-[#000] truncate",e.value.length<=1?"flex-none":"flex-1"]),title:g.group_name},_(g.group_name),11,sn),e.value.length<=1?($(),P("div",ln)):T("",!0),e.value.length<=1?($(),P("div",cn,[l("div",un,[l("span",dn,_(g.month_info.currency_symbol)+" "+_(g.month_info.amount),1),l("span",fn," / "+_(p.$t(`subscription.${g.month_info.time_unit}`)),1)]),l("div",vn,_(p.$t("subscription.credit_month_amount",{amount:` ${g.credit_month_info.amount} `})),1)])):T("",!0)]),C(J,{class:"!my-4 !border-[#E7ECF7]"}),e.value.length>1?($(),P(Y,{key:0},[l("div",hn,[l("span",pn,_(g.month_info.currency_symbol)+" "+_(g.month_info.amount),1),l("span",_n," / "+_(p.$t(`subscription.${g.month_info.time_unit}`)),1)]),l("div",mn,_(p.$t("subscription.credit_month_amount",{amount:` ${g.credit_month_info.amount} `})),1)],64)):T("",!0),l("div",{class:L([e.value.length>1?"":"flex flex-row"])},[g.agents&&g.agents.length?($(),P("div",{key:0,class:L([e.value.length>1?"mt-6":" flex-1"])},[l("h2",gn,_(p.$t("subscription.agent_bots_title")),1),l("ul",bn,[($(!0),P(Y,null,le(g.agents,(W,Ye)=>($(),P("li",{key:Ye,class:"flex items-center gap-2 w-full",title:W.name},[l("img",{src:W.logo||"",alt:W.name,class:"flex-none w-4 h-4 rounded-full overflow-hidden"},null,8,yn),l("div",En,_(W.name),1)],8,wn))),128))])],2)):T("",!0),l("div",{class:L([e.value.length>1?"mt-5":"flex-1"])},[l("h2",xn,_(p.$t("subscription.ai_assistant_title")),1),l("div",Cn,[C(z,{class:"!p-1.5",type:"default",plain:"",size:"default",disabled:!g.ai_enabled,onClick:M[0]||(M[0]=H(W=>k({type:"windows"}),["stop"]))},{default:F(()=>[l("img",{src:p.$getPublicPath("/images/windows.png"),class:L(["w-4 h-4 object-cover mr-1",{"opacity-50":!g.ai_enabled}])},null,10,$n),M[7]||(M[7]=l("span",{class:"text-xs"},"Windows",-1))]),_:2},1032,["disabled"]),C(z,{class:"!p-1.5 !ml-0",type:"default",plain:"",size:"default",disabled:!g.ai_enabled,onClick:M[1]||(M[1]=H(W=>k({type:"ios"}),["stop"]))},{default:F(()=>[l("img",{src:p.$getPublicPath("/images/ios.png"),class:L(["w-4 h-4 object-cover mr-1",{"opacity-50":!g.ai_enabled}])},null,10,Sn),M[8]||(M[8]=l("span",{class:"text-xs"},"macOS",-1))]),_:2},1032,["disabled"]),C(z,{class:"!p-1.5 !ml-0",type:"default",plain:"",size:"default",disabled:!g.ai_enabled,onClick:M[2]||(M[2]=H(W=>k({type:"chrome"}),["stop"]))},{default:F(()=>[l("img",{src:p.$getPublicPath("/images/chrome.png"),class:L(["w-4 h-4 object-cover mr-1",{"opacity-50":!g.ai_enabled}])},null,10,Mn),M[9]||(M[9]=l("span",{class:"text-xs"},"Google",-1))]),_:2},1032,["disabled"])])],2)],2)],14,on))),128))]),_:1},512),ee(C(z,{class:"absolute -right-0.5 top-1/2 -translate-y-1/2 z-10 bg-[#F5F2F2] text-[#333] !border-none !outline-none",icon:b(ot),size:"default",circle:"",onClick:H(D,["stop"])},null,8,["icon"]),[[ye,c.value>0&&a.value<c.value]])]),+(w.value.month_info||{}).amount||+(w.value.year_info||{}).amount?($(),P(Y,{key:0},[l("h1",An,_(p.$t("subscription.time_title")),1),l("ul",Pn,[($(),P(Y,null,le(["month","year"],g=>($(),P(Y,{key:g},[+(w.value[`${g}_info`]||{}).amount?($(),P("li",{key:0,class:L(["h-[128px] w-[36%] max-w-[280px] p-5 box-border border rounded-md",[g==n.value?"shadow-[0_0_20px_rgba(6, 114, 255, 0.2)] border-[#2F74FF] bg-[url('https://img.js.design/assets/img/67e3c887985b9b806ee10e09.png#681a27dfb07db7652079a5900c960b9e')] bg-cover bg-center":"border-[#EAEDF7] bg-[#F5F6FC]"]]),onClick:H(we=>I({unit:g}),["stop"])},[l("div",Nn,_(p.$t(`subscription.time_unit_${g}`)),1),l("div",Fn,[l("span",zn,_((w.value[`${g}_info`]||{}).currency_symbol||"￥"),1),l("span",kn,_((w.value[`${g}_info`]||{}).amount||0),1),l("span",In," / "+_(p.$t(`subscription.${g}`)),1)])],10,Rn)):T("",!0)],64))),64))])],64)):T("",!0)]),_:1}),C(Ve,{class:"flex flex-col flex-none max-w-[306px] relative bg-[#FAFAFA] border-l border-[#F2F0F0] !py-8 !pl-6 !pr-12",width:"30%"},{default:F(()=>[C(Oe,{class:"cursor-pointer absolute top-6 right-5 text-[#666]",size:20},{default:F(()=>[C(b(at),{onClick:H(S,["stop"])})]),_:1}),l("h2",Ln,_(p.$t("subscription.aside_title")),1),l("p",Bn,_(p.$t("subscription.aside_desc")),1),l("div",Dn,[l("img",{class:"flex-none size-8 rounded-full overflow-hidden object-cover",src:b(i).info.avatar},null,8,Tn),l("div",On,_(b(i).info.nickname),1)]),C(J,{class:"!my-5 !border-[#E7ECF7]"}),l("div",Un,[l("div",Qn,[l("span",null,_(w.value.group_name||"- -"),1),l("span",null,_(y.value.currency_symbol||"￥")+_(y.value.amount||0),1)])]),+y.value.amount?($(),P(Y,{key:0},[C(J,{class:"!my-5 !border-[#E7ECF7]"}),l("h2",Vn,_(p.$t("subscription.payment")),1),C(Qe,{modelValue:v.value,"onUpdate:modelValue":M[3]||(M[3]=g=>v.value=g),class:"mt-2",disabled:A.value},{default:F(()=>[C(Ue,{value:b(ce)},{default:F(()=>[l("span",Hn,_(p.$t("subscription.payment_wechat")),1)]),_:1},8,["value"])]),_:1},8,["modelValue","disabled"]),l("div",Gn,[l("span",null,_(p.$t("subscription.total")),1),l("span",null,_(y.value.currency_symbol||"￥")+" "+_(Number(y.value.amount||0).toFixed(2)),1)]),C(z,{class:"w-full mt-4",type:"primary",size:"large",disabled:A.value,onClick:M[4]||(M[4]=H(g=>f.value.open(),["stop"]))},{default:F(()=>[oe(_(p.$t("action.pay")),1)]),_:1},8,["disabled"])],64)):T("",!0)]),_:1})]),_:1})),[[qe,o.value]])]),_:1},8,["modelValue"]),C(Zt,{ref_key:"payment_qrcode_ref",ref:f,onSuccess:M[6]||(M[6]=g=>V({refresh:!0}))},null,512)])}}}),Yn=rt(qn,[["__scopeId","data-v-5f097c3e"]]),Kn={class:"flex-1 flex items-center gap-2 overflow-hidden"},Wn={class:"flex items-center gap-2"},jn={class:"w-[300px] p-4 flex items-center gap-2"},Jn={class:"flex-1 overflow-hidden"},Xn={class:"w-full flex items-center gap-1 overflow-hidden"},Zn={class:"flex-1 text-sm text-primary font-medium truncate"},eo=["title"],to=["src"],no={class:"max-w-[5em] truncate"},oo=["src"],ao={class:"text-xs text-[#9A9A9A]"},ro={class:"flex flex-col gap-1.5 px-3 py-1.5 border-t"},so={href:"/#/profile/",target:"_blank",class:"h-8 px-3 flex items-center gap-2 rounded cursor-pointer hover:bg-[#ECEDEE] text-primary"},io={class:"flex-center size-6"},lo={class:"text-sm"},co={class:"flex-center size-6"},uo={class:"text-sm"},fo={class:"h-8 px-3 flex items-center gap-2 rounded cursor-pointer text-primary opacity-50"},vo={class:"flex-center size-6"},ho={class:"text-sm"},po={class:"h-8 px-3 flex items-center gap-2 rounded cursor-pointer text-primary opacity-50"},_o={class:"flex-center size-6"},mo={class:"text-sm"},go={class:"flex flex-col gap-1.5 px-3 py-1.5 border-t"},bo={class:"flex-center size-6"},wo={class:"text-sm"},yo={class:"flex items-center gap-1.5 cursor-pointer"},Ao=B({__name:"main-header",props:{needLogin:{type:Boolean,default:!0},mainClass:{default:""},siderButton:{type:Boolean,default:!0},type:{}},setup(s){const{locale:d}=st(),i=ve(),u=bt(),f=gt(),h=N(null),o=N(!1),e=()=>{ct().open()},t=()=>{const r=window.location.host;r.includes("hub.53ai.com"),r.includes("53ai.com");const m=`${ut}?access_token=${i.info.access_token}&eid=${i.info.eid}&from_origin=${encodeURIComponent(location.origin)}`;console.info("adminUrl: ",m),window.open(m,"_blank")},n=()=>{i.logout(),dt.success(window.$t("status.logout_success"))},a=async()=>{if(!i.info.access_token)return Promise.resolve();h.value&&(o.value=await h.value.validateUpgrade())},c=r=>{d.value=r,ft.setLang(r)};return f.loadFromStorage().then(r=>{c(r.language)}),Me(async()=>{await f.loadInfo().then(r=>{c(r.language)}),await a(),Ee.on(xe.LOGIN_SUCCESS,a),window.$chat53ai&&window.$chat53ai.$on("agenthub:service",(r,{type:v,data:m}={})=>{console.log(v,m),v==="login"&&e()})}),Ae(()=>{Ee.off(xe.LOGIN_SUCCESS,a)}),(r,v)=>{const m=it("svg-icon"),w=mt,y=pe,A=vt,R=he,S=Ce("tooltip"),x=Ce("debounce");return!r.needLogin||b(i).is_login?($(),P("header",{key:0,class:L(["flex-none h-[70px] border-b",[r.type==="homepage"?"nav-bg":"bg-white"]])},[l("div",{class:L(["mx-auto px-4 flex items-center justify-between h-full",r.mainClass])},[l("div",Kn,[G(r.$slots,"before_prefix"),r.siderButton&&!b(u).siderVisible?ee(($(),P("div",{key:0,class:"flex-none size-7 rounded-md flex-center cursor-pointer hover:bg-[#ECEDEE]",onClick:v[0]||(v[0]=(...E)=>b(u).toggleSider&&b(u).toggleSider(...E))},[C(m,{name:"layout-left",size:"20",color:"#9A9A9A"})])),[[S,{content:r.$t("chat.expand_side_bar")}]]):T("",!0),G(r.$slots,"before_suffix")]),l("div",Wn,[G(r.$slots,"after_prefix"),r.$isElectron?T("",!0):($(),P(Y,{key:0},[b(i).is_login?($(),re(A,{key:0,effect:"light","popper-class":"el-popper--plain",placement:"bottom-end"},{content:F(()=>[l("div",jn,[C(w,{class:"flex-none size-10 rounded-full",src:b(i).info.avatar},null,8,["src"]),l("div",Jn,[l("div",Xn,[l("p",Zn,_(b(i).info.nickname),1),l("div",{class:"h-6 flex-center gap-1 bg-[#F7F7F7] rounded-full px-2 text-xs text-placeholder whitespace-nowrap",title:b(i).info.group_name},[l("img",{src:/\.png$/.test(b(i).info.group_icon)?b(i).info.group_icon:r.$getPublicPath(`/images/subscription/${b(i).info.group_icon}.png`),class:"w-4 h-4 object-cover"},null,8,to),l("p",no,_(b(i).info.group_name),1)],8,eo),o.value?($(),P("div",{key:0,class:"flex items-center gap-1 ml-auto cursor-pointer hover:opacity-70 bg-[#F4F0FF] rounded-2xl h-6 px-2 box-border text-xs text-[#8E5EFF] whitespace-nowrap",onClick:v[1]||(v[1]=H((...E)=>h.value.open&&h.value.open(...E),["stop"]))},[l("img",{src:r.$getPublicPath("/images/subscription/upgrade.png"),class:"w-4 h-4 object-cover"},null,8,oo),oe(" "+_(r.$t("subscription.upgrade")),1)])):T("",!0)]),l("div",ao,_(b(i).info.email),1)])]),l("div",ro,[l("a",so,[l("div",io,[C(m,{name:"setting",size:"16"})]),l("span",lo,_(r.$t("action.setting")),1)]),b(i).info.role>1?($(),P("div",{key:0,class:"h-8 px-3 flex items-center gap-2 rounded cursor-pointer hover:bg-[#ECEDEE] text-primary",onClick:t},[l("div",co,[C(m,{name:"jump",size:"16"})]),l("span",uo,_(r.$t("common.go_admin")),1)])):T("",!0),l("div",fo,[l("div",vo,[C(m,{name:"send_plane",size:"16"})]),l("span",ho,_(r.$t("common.new_friend")),1)]),l("div",po,[l("div",_o,[C(m,{name:"help",size:"16"})]),l("span",mo,_(r.$t("common.help_feedback")),1)])]),l("div",go,[ee(($(),P("div",{class:"h-8 px-3 flex items-center gap-2 rounded cursor-pointer hover:bg-[#ECEDEE] text-primary",onClick:n},[l("div",bo,[C(m,{name:"quit",size:"14"})]),l("span",wo,_(r.$t("login.quit")),1)])),[[x]])])]),default:F(()=>[l("div",yo,[C(w,{class:"size-[26px] rounded-full",src:b(i).info.avatar},null,8,["src"]),C(y,{color:"#A4A4AD"},{default:F(()=>[C(b(lt))]),_:1})])]),_:1})):($(),re(R,{key:1,type:"primary",onClick:e},{default:F(()=>[oe(_(r.$t("action.login")),1)]),_:1}))],64)),G(r.$slots,"after_suffix")])],2),C(Yn,{ref_key:"upgrade_ref",ref:h},null,512)],2)):T("",!0)}}});export{Ao as _};
